// MIXINS
@use 'variables' as *;
@use 'sass:color';
@use 'sass:map';

// Breakpoints Map
$breakpoints: (
  xs: 0,
  sm: 576px,
  md: 768px,
  lg: 992px,
  xl: 1200px,
  xxl: 1400px
);

// Media Query Mixins
@mixin media-breakpoint-up($breakpoint) {
  $min: map.get($breakpoints, $breakpoint);
  @if $min {
    @media (min-width: $min) {
      @content;
    }
  }
}

@mixin media-breakpoint-down($breakpoint) {
  $max: map.get($breakpoints, $breakpoint);
  @if $max {
    @media (max-width: ($max - 1)) {
      @content;
    }
  }
}

@mixin media-breakpoint-between($lower, $upper) {
  $min: map.get($breakpoints, $lower);
  $max: map.get($breakpoints, $upper);
  @if $min and $max {
    @media (min-width: $min) and (max-width: ($max - 1)) {
      @content;
    }
  }
}

@mixin flex-center {
  display: flex;
  align-items: center;
  justify-content: center;
}

@mixin flex-between {
  display: flex;
  align-items: center;
  justify-content: space-between;
}

@mixin card-hover {
  transition: $transition-base;
  
  &:hover {
    transform: translateY(-2px);
    box-shadow: $box-shadow-lg;
  }
}

@mixin gradient-bg($gradient) {
  background: $gradient;
}

@mixin fade-in($duration: $animation-duration-base) {
  animation: fadeIn $duration ease-out;
}

@mixin form-control-focus($color: $primary) {
  border-color: rgba($color, 0.5);
  box-shadow: 0 0 0 0.25rem rgba($color, 0.25);
}

@mixin avatar($size: 40px) {
  width: $size;
  height: $size;
  border-radius: 50%;
  @include flex-center;
  font-weight: $font-weight-bold;
  text-transform: uppercase;
}

@mixin loading-spinner($size: 1rem, $border-width: 2px) {
  display: inline-block;
  width: $size;
  height: $size;
  border: $border-width solid currentColor;
  border-right-color: transparent;
  border-radius: 50%;
  animation: spin 1s linear infinite;
}

// Button variant mixin con sintaxis moderna
@mixin button-variant($bg, $color: #fff, $border: $bg) {
  background-color: $bg;
  color: $color;
  border-color: $border;
  
  &:hover {
    background-color: color.adjust($bg, $lightness: -7.5%);
    border-color: color.adjust($border, $lightness: -10%);
    color: $color;
    transform: translateY(-1px);
  }
  
  &:focus {
    box-shadow: 0 0 0 0.25rem rgba($bg, 0.25);
  }
  
  &:active {
    background-color: color.adjust($bg, $lightness: -10%);
    border-color: color.adjust($border, $lightness: -12.5%);
    transform: translateY(0);
  }
}